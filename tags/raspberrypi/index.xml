<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>raspberrypi on 我的日记</title><link>http://blog.heyuhua.com/tags/raspberrypi/</link><description>Recent content in raspberrypi on 我的日记</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>何育华版权所有</copyright><lastBuildDate>Mon, 14 Aug 2017 20:48:55 +0000</lastBuildDate><atom:link href="http://blog.heyuhua.com/tags/raspberrypi/index.xml" rel="self" type="application/rss+xml"/><item><title>利用lirc对松下空调遥控器指令的录制</title><link>http://blog.heyuhua.com/p/%E5%88%A9%E7%94%A8lirc%E5%AF%B9%E6%9D%BE%E4%B8%8B%E7%A9%BA%E8%B0%83%E9%81%A5%E6%8E%A7%E5%99%A8%E6%8C%87%E4%BB%A4%E7%9A%84%E5%BD%95%E5%88%B6/</link><pubDate>Mon, 14 Aug 2017 20:48:55 +0000</pubDate><guid>http://blog.heyuhua.com/p/%E5%88%A9%E7%94%A8lirc%E5%AF%B9%E6%9D%BE%E4%B8%8B%E7%A9%BA%E8%B0%83%E9%81%A5%E6%8E%A7%E5%99%A8%E6%8C%87%E4%BB%A4%E7%9A%84%E5%BD%95%E5%88%B6/</guid><description>&lt;p>听风听雨过七夕，愁草瘗花铭。对影双人中酒，交加晓梦啼莺。&lt;/p>
&lt;h3 id="前言">前言&lt;/h3>
&lt;p>7月份入职之后，一直在闲暇之余鼓捣树莓派。在制作联网空调遥控器的时候遇到了很多挫折。&lt;/p>
&lt;p>比如在录制的红外波谱中有莫名的不符合协议的极长时间空白。&lt;/p>
&lt;p>比如即使看上去正常的波普也不能被空调接收。&lt;/p>
&lt;p>写这篇文章是迫于无奈。实在是因为按网上的教程录制的空调遥控操作无法使用，而且仔细查看录制的数据发现与网上发布的差距较大。&lt;/p>
&lt;p>空调遥控器与电视机遥控器最大的区别就在于：其传输的红外信息都为复合信息集合，不像电视机遥控音量+就是音量+，换台就是换台。&lt;/p>
&lt;p>我的空调为Panasonsic中央变频空调，从遥控显示屏可以看出，其大概有以下几种信息：&lt;/p>
&lt;ul>
&lt;li>希望达到的温度&lt;/li>
&lt;li>空调模式（制冷，制热，自动，干燥）&lt;/li>
&lt;li>吹风模式：上中下 左右 扫风 自动&lt;/li>
&lt;li>风速&lt;/li>
&lt;li>定时开， 定时关&lt;/li>
&lt;/ul>
&lt;p>首先要明确一点，红外传输是一种单向协议，即遥控器只能向被控对象发送指令，但是并不会收到类似tcp协议一样的ack回执。&lt;/p>
&lt;p>为什么要在遥控空调时传输复合参数集合呢。这就考虑到空调与电视的使用方式不同。想象这样一个场景：你抱着西瓜躺在离电视3米的地方，按电视遥控器调低音量但是电视不响应，就只能把遥控器对准电视，往前伸手狂按，直到音量达到理想效果后继续躺尸。&lt;/p>
&lt;p>​ 但是如果你抱着西瓜躺在离空调5米的地方，觉得不够爽，想要空调大力制冷。这时使用类似电视机调低音量（&lt;code>减小10分贝&lt;/code>）的类似指令发送方式，你是不能明确手上的遥控器发送的无数&lt;code>降低1 °C&lt;/code> 的指令有多少成功发给了空调的接收器的。如此这般就很容易造成空调遥控器上的显示与实际制冷效果不同步（并很难重新同步）。耿直的工程师就决定一次发送能够描述空调全部需求状态的指令集。这样任意一次信号的成功送达都可以保证事务的一致性。（是一致性我没说错对吧。。。）&lt;/p>
&lt;hr>
&lt;h3 id="正文">正文&lt;/h3>
&lt;blockquote>
&lt;p>接下来是紧张刺激的操作环节。凸^-^凸&lt;/p>
&lt;/blockquote>
&lt;h4 id="一数据收集">一.数据收集&lt;/h4>
&lt;p>一些 值得记录的地方。&lt;/p>
&lt;ol>
&lt;li>据说有示波器会更好（但是我没有）&lt;/li>
&lt;li>首先要确保正确安装了LIRC包。&lt;/li>
&lt;li>如果有时间看一下 man mode2。在lirc社区找到的一些规较为范的remote control config 里大部分使用了 16进制记录方法，个人认为在肉眼读数时比单纯记录remote 的高低电平10进制读法更方便观察。&lt;/li>
&lt;li>网上大多数教程推荐在使用mode2 工具录制时， 关闭lircd服务。 &lt;code>sudo systemctl stop lircd.service&lt;/code>是在Arch 上正确关闭lirc服务的方法。录制完成后 &lt;code>sudo systemctl restart lircd.service&lt;/code>重新启动即可。（经常查看日志即服务运行状态 会帮你解决很多坑。）&lt;/li>
&lt;li>在做录制解析时最好先去了解一下红外传输协议。&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>本来还想继续往下写的。 Arch arm 版 linux 4.9 内核升级后 i2c io无法使用。红外模块罢工。正在懊恼中。（于2017.08.27）&lt;/p>
&lt;/blockquote>
&lt;p>toDOtoDO&amp;hellip;.&lt;/p>
&lt;h3 id="续集-2019-03-22">续集。 2019-03-22&lt;/h3>
&lt;p>深圳开始变热了。 我不得不解决每天回家热成狗的问题了。 空调不能停！！！！！！！！！&lt;/p>
&lt;p>更重要的是， 我找到了能够稳定开启 I2c module 的办法。&lt;/p>
&lt;p>安装一些必要的东西：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pacman -S git python2 i2c-tools base-devel python2-distribute python2-pip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装 PIGPIO 支持&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pip2 install RPi.GPIO
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>&lt;strong>安装raspi-config&lt;/strong>&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -S xorg-xrandr libnewt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone https://aur.archlinux.org/raspi-config.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> raspi-config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">makepkg -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后使用 Raspi-config 开启I2C&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo raspi-config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="http://blog.heyuhua.com/p/%E5%88%A9%E7%94%A8lirc%E5%AF%B9%E6%9D%BE%E4%B8%8B%E7%A9%BA%E8%B0%83%E9%81%A5%E6%8E%A7%E5%99%A8%E6%8C%87%E4%BB%A4%E7%9A%84%E5%BD%95%E5%88%B6/arch-resp-config.png"
width="907"
height="610"
srcset="http://blog.heyuhua.com/p/%E5%88%A9%E7%94%A8lirc%E5%AF%B9%E6%9D%BE%E4%B8%8B%E7%A9%BA%E8%B0%83%E9%81%A5%E6%8E%A7%E5%99%A8%E6%8C%87%E4%BB%A4%E7%9A%84%E5%BD%95%E5%88%B6/arch-resp-config_hu771a6e9098d432e44887d939e87b2719_29306_480x0_resize_box_3.png 480w, http://blog.heyuhua.com/p/%E5%88%A9%E7%94%A8lirc%E5%AF%B9%E6%9D%BE%E4%B8%8B%E7%A9%BA%E8%B0%83%E9%81%A5%E6%8E%A7%E5%99%A8%E6%8C%87%E4%BB%A4%E7%9A%84%E5%BD%95%E5%88%B6/arch-resp-config_hu771a6e9098d432e44887d939e87b2719_29306_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="resp-config"
class="gallery-image"
data-flex-grow="148"
data-flex-basis="356px"
>&lt;/p>
&lt;p>七夕快乐。&lt;/p></description></item><item><title>raspberry pi3 ArchLinux 安装记录</title><link>http://blog.heyuhua.com/p/raspberry-pi3-archlinux-%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/</link><pubDate>Wed, 26 Jul 2017 12:43:18 +0000</pubDate><guid>http://blog.heyuhua.com/p/raspberry-pi3-archlinux-%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/</guid><description>&lt;!-- toc -->
&lt;h2 id="前言">前言&lt;/h2>
&lt;p>某同事说：“Arch 操作系统的一大特点就是其pacman系统更新模块采用的是滚动更新模式（也就是说Arch理论上来说只有一个LTS版本）。只要你的操作得当，甚至可以从最古老的arch版本 升级到最新版，从linux 1.0内核升级到4.x内核。” 同事向我无脑推荐Arch之后不负责任的溜了。&lt;/p>
&lt;p>在实际操作中，你很快就会发现贱婢同事说的是对的，但是他只说了一半，留白是：&lt;em>&lt;code>”你很难操作得当。“&lt;/code>&lt;/em>&lt;/p>
&lt;p>Arch的滚动更新模式有着极其频繁的更新频率（需要你用同样频繁的&lt;code>pacman -Syu&lt;/code>来跟进远程仓库的更新），而当你累计的更新过多，就会很容易造成更新冲突。如果这些冲突中涉及到一些操作系统的敏感模块，如linux内核更新等，要务必详细了解冲突的内容。理智操作。&lt;/p>
&lt;p>我要为我的冲动负责。从新拿到我的树莓派，已经是3个月后，Pacman -Syu 更新提示&lt;code>ca-certificates-utils: /etc/ssl/certs/ca-certificates.crt exists in filesystem&lt;/code>&lt;/p>
&lt;p>查看 ca-certificate文件后感觉良好，冲动下使用了&lt;code>pacman -Syu --force&lt;/code> ，然而这次强制更新把我的bootloader写坏了。&lt;/p>
&lt;p>附上Arch 社区提供的一些正确解决方案。&lt;/p>
&lt;ul>
&lt;li>法 1&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>pacman -Syu &amp;ndash;ignore ca-certificates-utils&lt;/li>
&lt;li>pacman -S &amp;ndash;force ca-certificates-utils&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>法 2 （强制删除 ca-certificate-utils）&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>pacman -Syu &amp;ndash;ignore ca-certificates-utils&lt;/li>
&lt;li>rm /etc/ssl/certs/ca-certificates.crt&lt;/li>
&lt;li>pacman -S ca-certificates-utils&lt;/li>
&lt;/ol>
&lt;hr>
&lt;p>过去的就让它过去吧。&lt;/p>
&lt;p>详细做一次 raspberry pi 安装 Arch Linux 过程记录。&lt;/p>
&lt;h3 id="准备事项">准备事项&lt;/h3>
&lt;ul>
&lt;li>raspberry pi3 * 1&lt;/li>
&lt;li>sd card * 1&lt;/li>
&lt;li>读卡器 * 1&lt;/li>
&lt;li>&lt;a class="link" href="http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-3-latest.tar.gz" target="_blank" rel="noopener"
>Arch ARM 版操作系统&lt;/a>。（raspberry pi2 和pi3 的系统版本已经分开了，但是pi3 仍然可以安装 archarm-pi2 镜像）&lt;/li>
&lt;li>一个有linux操作系统的电脑:这里我使用一台树莓派作为烧录机。（没办法周围除了mac就是pi）&lt;/li>
&lt;li>你可能需要请提前安装 bsdtar 工具&lt;/li>
&lt;/ul>
&lt;p>很多人就会问，为什么你有mac可用还要强行用pi装b呢？&lt;/p>
&lt;p>A：mac的darwin系统并不支持 ext文件系统，所以无法对sd卡进行预期的磁盘操作。&lt;/p>
&lt;p>当然据说使用&lt;code>dd&lt;/code>命令可以无视这个问题。(找个img镜像)&lt;/p>
&lt;h3 id="安装大部分翻译自-arch-社区">安装(大部分翻译自 Arch 社区)&lt;/h3>
&lt;blockquote>
&lt;p>首先把sd卡插到读卡器里，然后把读卡器插到电脑上&amp;hellip;&amp;hellip;..&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">$lsblk&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sda 8:0 &lt;span class="m">1&lt;/span> 29.8G &lt;span class="m">0&lt;/span> disk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├─sda2 8:2 &lt;span class="m">1&lt;/span> 28G &lt;span class="m">0&lt;/span> part
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├─sda3 8:3 &lt;span class="m">1&lt;/span> 1.7G &lt;span class="m">0&lt;/span> part
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└─sda1 8:1 &lt;span class="m">1&lt;/span> 100M &lt;span class="m">0&lt;/span> part
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mmcblk0 179:0 &lt;span class="m">0&lt;/span> 29G &lt;span class="m">0&lt;/span> disk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├─mmcblk0p2 179:2 &lt;span class="m">0&lt;/span> 28.9G &lt;span class="m">0&lt;/span> part /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└─mmcblk0p1 179:1 &lt;span class="m">0&lt;/span> 41.7M &lt;span class="m">0&lt;/span> part /boot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>列出你当前的磁盘。 显然sda磁盘没有挂载，正是我们要烧录的sd card。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">$ sudo su
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>确保你的当前工作目录没有后顾之忧后可以开启管理员模式。（这个工作目录最好放置着预先下载好的&lt;a class="link" href="http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-3-latest.tar.gz" target="_blank" rel="noopener"
>arch操作系统&lt;/a>，并且保证有足够大的预留空间）&lt;/p>
&lt;p>开始给sd卡分区&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Shell" data-lang="Shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># fdisk /dev/sda&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>fdisk 有十分详细的引导教程，第一次安装可以尽可能详细的看一下其提示。&lt;/p>
&lt;h5 id="一-首先要做的是删除旧分区创建新分区">一. 首先要做的是删除旧分区，创建新分区：&lt;/h5>
&lt;ol>
&lt;li>键入 &lt;code>o&lt;/code> ,清空原有分区表。&lt;/li>
&lt;li>键入&lt;code>p&lt;/code> , 查看当前分区表状态，如果第一步操作正确，此处将不会列出 分区表。&lt;/li>
&lt;li>键入&lt;code>n&lt;/code> ,开始创建新分区，再键入p，创建主分区，再键入&lt;code>1&lt;/code> ,创建第一个。然后再按一次回车&lt;code>ENTER&lt;/code> 使用默认的扇区头地址。键入 &lt;code>+100M&lt;/code> 确定扇区尾。&lt;/li>
&lt;li>键入&lt;code>t&lt;/code> , 然后键入&lt;code>c&lt;/code>来设置第一块分区的文件系统类型为 FAT32(LBA)&lt;/li>
&lt;li>键入&lt;code>n&lt;/code> ,开始创建新分区，再键入p，创建主分区，再键入&lt;code>2&lt;/code> ,创建第2个。然后再按&lt;strong>两次&lt;/strong>&lt;code>ENTER&lt;/code> 分别选定默认的磁盘扇区头部和尾部。&lt;/li>
&lt;li>最后，键入&lt;code>w&lt;/code> 以保存分区表并退出 fdisk&lt;/li>
&lt;/ol>
&lt;h5 id="二-创建并挂载fat文件系统">二. 创建并挂载FAT文件系统。&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mkfs.vfat /dev/sda1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir boot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mount /dec/sda1 boot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="三-创建并挂载ext4文件系统">三. 创建并挂载ext4文件系统&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mkfs.ext4 /dev/sda2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mount /dev/sda2 root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里的步骤可能需要等待，比如弹出&lt;code>Writing superblocks and filesystem accounting information:&lt;/code> 时。&lt;/p>
&lt;h5 id="四-提取root系统文件">四. 提取root系统文件&lt;/h5>
&lt;blockquote>
&lt;p>如果你现在还没有进入 root权限模式，这是最后的机会了。&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">bsdtar -xpf ArchLinuxARM-rpi-3-latest.tar.gz -C root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sync
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="五-填充boot">五. 填充boot&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mv root/boot/* boot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="六-弹出sd卡">六. 弹出sd卡&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">umount boot root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="七-将sd卡装入树莓派插电网线连路由器或者其他什么办法只要你能弄到ip">七. 将sd卡装入树莓派，插电，网线连路由器（或者其他什么办法只要你能弄到ip）&lt;/h5>
&lt;h5 id="八-从你的电脑上用ssh连接树莓派">八. 从你的电脑上用ssh连接树莓派&lt;/h5>
&lt;p>附初始用户表：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">初始用户&lt;/th>
&lt;th style="text-align:left">用户名&lt;/th>
&lt;th>密码&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">alarm（普通用户，可远程登录）&lt;/td>
&lt;td style="text-align:left">alarm&lt;/td>
&lt;td>alarm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">管理员（无ssh权限）&lt;/td>
&lt;td style="text-align:left">root&lt;/td>
&lt;td>root&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>arch默认不提供对dns的主机发布功能，即默认条件下无法使用 &lt;a class="link" href="mailto:user@raspberrypi.local" >user@raspberrypi.local&lt;/a> 连接树莓派。如有需求，&lt;a class="link" href="https://wiki.archlinux.org/index.php/Avahi" target="_blank" rel="noopener"
>移步&lt;/a>。&lt;/p>
&lt;/blockquote>
&lt;p>附带国内Archarm 加速镜像文件，覆盖 /etc/pacman.d/mirrorlist 文件即可&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># Server list generated by rankmirrors on 2017-07-27
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## China
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = https://mirrors.ustc.edu.cn/archlinuxarm/$arch/$repo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = http://tw.mirror.archlinuxarm.org/$arch/$repo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = http://mirrors.tuna.tsinghua.edu.cn/archlinuxarm/$arch/$repo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Server = http://mirrors.163.com/archlinuxarm/$arch/$repo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>覆盖后记得马上 &lt;code>pacman -Syy&lt;/code>更新本地库 !&lt;/li>
&lt;li>如果更新后找不到想要的包，可以把第二个tw的官方mirror地址提到第一位。&lt;/li>
&lt;/ul></description></item><item><title>使用树莓派将旧打印机升级为局域网打印机</title><link>http://blog.heyuhua.com/p/%E4%BD%BF%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE%E5%B0%86%E6%97%A7%E6%89%93%E5%8D%B0%E6%9C%BA%E5%8D%87%E7%BA%A7%E4%B8%BA%E5%B1%80%E5%9F%9F%E7%BD%91%E6%89%93%E5%8D%B0%E6%9C%BA/</link><pubDate>Tue, 31 Jan 2017 09:57:18 +0000</pubDate><guid>http://blog.heyuhua.com/p/%E4%BD%BF%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE%E5%B0%86%E6%97%A7%E6%89%93%E5%8D%B0%E6%9C%BA%E5%8D%87%E7%BA%A7%E4%B8%BA%E5%B1%80%E5%9F%9F%E7%BD%91%E6%89%93%E5%8D%B0%E6%9C%BA/</guid><description>&lt;p>{{ highlight }}
遥遥无期系列。
{{ /highlight }}&lt;/p>
&lt;blockquote>
&lt;p>树莓派是去年（2016年10月份买的），当时买上也不知道干啥就当升级旧打印机的模块了。。。趁过年整理一下。&lt;/p>
&lt;/blockquote>
&lt;h2 id="可能有关系的东东">可能有关系的东东&lt;/h2>
&lt;ol>
&lt;li>树莓派就是一个开发板。&lt;/li>
&lt;li>基于arm架构 也可以理解成一个裸体手机&lt;/li>
&lt;li>今天网友推荐的开源&lt;a class="link" href="https://magicmirror.builders/" target="_blank" rel="noopener"
>一体化平台&lt;/a>。（这个可能没关系）&lt;/li>
&lt;li>arch是一个很好的开源linux发行版。其&lt;code>简洁，现代&lt;/code>的理念十分利于我们理解linux原理。 同事很不负责任的洗脑了我。&lt;/li>
&lt;li>用到的工具：
&lt;ul>
&lt;li>树莓派（arch系统，其实其他的也差不多）&lt;/li>
&lt;li>CUPS 工具 （打印机驱动一条龙服务）&lt;/li>
&lt;li>samba（负责使linux 被windows等其他&lt;code>自私的&lt;/code>系统使用）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="arch-pacman-常用命令">arch pacman 常用命令&lt;/h3>
&lt;ul>
&lt;li>升级包： &lt;code>sudo pacman -Syu&lt;/code> 由于arch的滚动升级设计理念， 每天升级没毛病，很容易养成强迫症。&lt;/li>
&lt;li>查询本地包 &lt;code>pacman -Q pacname&lt;/code>&lt;/li>
&lt;li>查询远程包数据库包及其描述 &lt;code>pacman -Ss pacname&lt;/code>&lt;/li>
&lt;li>安装指定包 &lt;code>sudo pacman -S pacname1 2 3&lt;/code>&lt;/li>
&lt;li>删除包 &lt;code>sudo pacman -R pacname...&lt;/code>&lt;/li>
&lt;li>删除指定软件包，及其所有没有被其他已安装软件包使用的依赖关系：&lt;code>pacman -Rs package_name&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="待续正月15回家测试一下再写-好吧-15没回家--拖到19号">待续。正月15回家测试一下再写。| 好吧 15没回家。 | 拖到19号&lt;/h3>
&lt;!-- TODO my test todo item --></description></item></channel></rss>